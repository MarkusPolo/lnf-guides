---
const key = 'lnf-newsletter-dismissed';
---

<div id="nl-bar" class="mx-auto max-w-7xl px-4 mt-10 hidden">
  <div class="card p-4 md:p-5 flex flex-col md:flex-row items-center gap-3">
    <div class="flex-1">
      <div class="font-semibold">Get launch-ready tips in your inbox</div>
      <p class="text-sm text-text2">No spam. Unsubscribe anytime.</p>
    </div>
    <form action="#" method="post" class="flex w-full md:w-auto gap-2">
      <input type="email" required placeholder="you@example.com" class="flex-1 md:w-80 bg-bg border border-border/60 rounded-full px-4 py-2 outline-none" />
      <button class="btn btn-primary">Subscribe</button>
      <button type="button" id="nl-dismiss" class="btn btn-outline">Dismiss</button>
    </form>
  </div>
</div>

<script>
  (function(){
    const root = document.getElementById('nl-bar');
    const btn = document.getElementById('nl-dismiss');
    if (!root) return;
    const dismissed = localStorage.getItem('lnf-newsletter-dismissed') === '1';
    if (!dismissed) root.classList.remove('hidden');
    btn && btn.addEventListener('click', () => {
      localStorage.setItem('lnf-newsletter-dismissed', '1');
      root.classList.add('hidden');
    });
  })();
</script>

